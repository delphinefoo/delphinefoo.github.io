---
layout: post
title: Hoisting in JavaScript
categories:
- weirdjs
---
<div class="post content">
  <p>One of the reasons I love JavaScript (and also one of the reasons JavaScript can be mystifying) is that there are a lot of weird behaviors written into the language that don't seem to make sense on first glance. I love learning the intricacies and foibles of languages, both the human and computer kind. Today I'll talk about one of JavaScript's endearingly weird behaviors: hoisting.
  </p>

  <p>"Hoisting" is JavaScript's default behavior of moving function and variable declarations to the top of a scope block. What does that mean? Let's look at an example: </p>

  <img class="full-column" src="/assets/images/02-08-16-hoisting/hoisting1.png">

  <p>In the above example, what do you think will be logged from line 4? And from line 6? <br>
  The answer is that line 4 will log 'undefined', and line 6 will log '10'. Let's run through the order of what happens in the code:</p>

  <ol class="ordered-list">
    <li>A variable 'x' is declared on line 1 and assigned a value of 5.</li>
    <li>Inside the function declaration, due to variable declaration hoisting, 'var x' is brought to the top of the function scope. The 'var x' portion of line 5 is the declaration. The '= 10' portion is called the "initialization" of the variable. Initializations are not hoisted, so x does not get assigned the value of 10 before the console.log. So 'var x' runs, then 'console.log(x)'. X has not yet been assigned a value at this point, so it logs as 'undefined'.</li>
    <li>On line 5, x is now initialized with a value of 10.</li>
    <li>Line 6 logs x, which has a value of 10 at that point.</li>
  </ol>

  <p>Function declarations are also hoisted. Take a look at the following example: </p>

  <img class="full-column" src="/assets/images/02-08-16-hoisting/hoisting2.png">

  <p>What will be the result of the function invocation on line 12? "I was hoisted!" will be logged, despite the fact that the function was invoked before it was declared on line 14. This is due to the hoisting of function declarations.</p>

  <p>Last example: what will be the result of the following?</p>

  <img class="full-column" src="/assets/images/02-08-16-hoisting/hoisting3.png">

  <p>The function invocation will cause an error, 'whatWillThisPrint is not a function'. What?! Why?</p>
  <p>It's because function declarations are hoisted to the top of a scope, but function expressions are not. declaring a variable and then assigning a function to it is a 'function expression'. Only the 'var whatWillThisPrint' portion of lines 21 through 23 is hoisted to the top, so when we invoke it on line 19, it hasn't been assigned any value yet.</p>

  <p>Hoisting is the reason best practices call for declaring all of your variables at the top.</p>


</div>